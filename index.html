<!DOCTYPE html>
<head>
  <script src="index.js"></script>
  <link rel="stylesheet" href="index.css" />
  <title>Closed Captions events demo</title>
</head>
<body>
  <h1>Closed Captions Listener Demo</h1>
  <p>
    This demonstrates how closed captions emit events as captions are shown and hidden.
  </p>
  <video
    width="560"
    height="315"
    controls
    frameborder="0"
    allowfullscreen
    poster="http://content.bitsontherun.com/thumbs/q1fx20VZ-640.jpg"
    id="sample-video"
  >
    <source src="http://ia800200.us.archive.org/7/items/Sintel/sintel-2048-surround_512kb.mp4"
    type="video/mp4">
    <!-- <source src="http://demo.jwplayer.com/html5-report/sintel.webm"
    type="video/webm"> -->
    <track kind="captions" label="Captions"
      src="iandevlin.github.io/mdn/video-player-with-captions/subtitles/vtt/sintel-en.vtt"
      srclang="en"
    >
  </video>
  <div id="history"></div>
  <script>
    let vidEl = {}
    const showCue = function() {
      document.getElementById('history').innerHTML += 'show'
    }
    const hideCue = function() {
      document.getElementById('history').innerHTML += 'hide'
    }
    const timeUpdate = function() {
      document.getElementById('history').innerHTML += vidEl.currentTime
    }
    window.onload = function() {
      vidEl = document.getElementById('sample-video')
      closedCaptionsListener(vidEl, showCue, hideCue)
    }
  </script>
</body>
